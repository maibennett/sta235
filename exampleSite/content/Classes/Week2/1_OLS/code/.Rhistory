######################################################################
### Title: "Week 2 - Multiple Regression: Interactions & Other Issues"
### Course: STA 235H
### Semester: Fall 2022
### Professor: Magdalena Bennett
#######################################################################
# Clears memory
rm(list = ls())
# Clears console
cat("\014")
# scipen=999 removes scientific notation; scipen=0 turns it on.
options(scipen = 0)
### Load libraries
# If you don't have one of these packages installed already, you will need to run install.packages() line
library(tidyverse)
library(vtable)
cars <- read.csv("https://raw.githubusercontent.com/maibennett/sta235/main/exampleSite/content/Classes/Week2/1_OLS/data/SoCalCars.csv", stringsAsFactors = FALSE)
## Let's clean some data
## Select only cars from the year 1970 onwards, that are under $100k, and have less than 150k miles (and more than 10k).
## Let's create new variables:
### luxury: dummy variable for luxury brands (in `luxury_brand` vector) (source: https://luxe.digital/business/digital-luxury-ranking/best-luxury-car-brands/)
### Transform price from dollars to thousands of dollars, and miles to thousands of miles.
### Transform year so that it's the number of years since 1970s
luxury_brands <- c("Audi", "BMW", "Cadillac", "Ferrari", "Jaguar", "Lamborghini", "Land Rover", "Lexus",
"Maserati", "Mercedes-Benz", "Porsche", "Rolls-Royce", "Tesla", "Volvo")
cars <- cars %>% filter(type != "new" & mileage >= 10000 & mileage <= 150000 & price < 100000 & year >= 1970) %>%
mutate(luxury = ifelse(make %in% luxury_brands, 1, 0),
price = price/1000,
mileage = mileage/1000,
year = year - 1970)
head(cars)
######################################################################
### Title: "Week 2 - Multiple Regression: Interactions & Other Issues"
### Course: STA 235H
### Semester: Fall 2022
### Professor: Magdalena Bennett
#######################################################################
# Clears memory
rm(list = ls())
# Clears console
cat("\014")
# scipen=999 removes scientific notation; scipen=0 turns it on.
options(scipen = 0)
cat("\014")
######################################################################
### Title: "Week 2 - Multiple Regression: Interactions & Other Issues"
### Course: STA 235H
### Semester: Fall 2022
### Professor: Magdalena Bennett
#######################################################################
# Clears memory
rm(list = ls())
# Clears console
cat("\014")
# scipen=999 removes scientific notation; scipen=0 turns it on.
options(scipen = 0)
### Load libraries
# If you don't have one of these packages installed already, you will need to run install.packages() line
library(tidyverse)
library(vtable)
cars <- read.csv("https://raw.githubusercontent.com/maibennett/sta235/main/exampleSite/content/Classes/Week2/1_OLS/data/SoCalCars.csv", stringsAsFactors = FALSE)
## Let's clean some data
## Select only cars from the year 1970 onwards, that are under $100k, and have less than 150k miles (and more than 10k).
## Let's create new variables:
luxury_brands <- c("Audi", "BMW", "Cadillac", "Ferrari", "Jaguar", "Lamborghini", "Land Rover", "Lexus",
"Maserati", "Mercedes-Benz", "Porsche", "Rolls-Royce", "Tesla", "Volvo")
cars <- cars %>% filter(type != "new" & mileage >= 10000 & mileage <= 150000 &
price < 100000 & year >= 1970) %>%
mutate(luxury = ifelse(make %in% luxury_brands, 1, 0),
price = price/1000,
mileage = mileage/1000,
year = year - 1970)
head(cars)
ggplot(data = cars, aes(x = year, y = price)) +
geom_point()
ggplot(data = cars, aes(x = year, y = price)) +
geom_point() + xlab("Year (since 1970)") + ylab("Price (1,000 $)")
ggplot(data = cars, aes(x = year, y = price)) +
geom_point() + xlab("Year (since 1970)") + ylab("Price (1,000 $)") +
theme_minimal()
ggplot(data = cars, aes(x = year, y = price)) +
geom_point(color = "skyblue") + xlab("Year (since 1970)") + ylab("Price (1,000 $)") +
theme_minimal()
lm2 <- lm(price ~ mileage + rating + year*luxury, data = cars)
summary(lm2)
lm2 = lm(price ~ mileage + rating + year*luxury, data = cars)
summary(lm2)
lm2
exp(0.1) - 1
0.1*100
######################################################################
### Title: "Week 2 - Multiple Regression: Interactions & Other Issues"
### Course: STA 235H
### Semester: Fall 2022
### Professor: Magdalena Bennett
#######################################################################
# Clears memory
rm(list = ls())
# Clears console
cat("\014")
######################################################################
### Title: "Week 2 - Multiple Regression: Interactions & Other Issues"
### Course: STA 235H
### Semester: Fall 2022
### Professor: Magdalena Bennett
#######################################################################
# Clears memory
rm(list = ls())
# Clears console
cat("\014")
# scipen=999 removes scientific notation; scipen=0 turns it on.
options(scipen = 0)
### Load libraries
# If you don't have one of these packages installed already, you will need to run install.packages() line
library(tidyverse)
library(vtable)
cars <- read.csv("https://raw.githubusercontent.com/maibennett/sta235/main/exampleSite/content/Classes/Week2/1_OLS/data/SoCalCars.csv", stringsAsFactors = FALSE)
## Let's clean some data
## Select only cars from the year 1970 onwards, that are under $100k,
# and have less than 150k miles (and more than 10k).
## Let's create new variables:
### luxury: dummy variable for luxury brands (in `luxury_brand` vector) (source: https://luxe.digital/business/digital-luxury-ranking/best-luxury-car-brands/)
### Transform price from dollars to thousands of dollars, and miles to thousands of miles.
### Transform year so that it's the number of years since 1970s
luxury_brands <- c("Audi", "BMW", "Cadillac", "Ferrari", "Jaguar", "Lamborghini", "Land Rover", "Lexus",
"Maserati", "Mercedes-Benz", "Porsche", "Rolls-Royce", "Tesla", "Volvo")
luxury_brands <- c("Audi", "BMW", "Cadillac", "Ferrari", "Jaguar", "Lamborghini", "Land Rover", "Lexus",
"Maserati", "Mercedes-Benz", "Porsche", "Rolls-Royce", "Tesla", "Volvo")
cars <- cars %>% filter(type != "new" & mileage >= 10000 &
mileage <= 150000 &
price < 100000 & year >= 1970) %>%
mutate(luxury = ifelse(make %in% luxury_brands, 1, 0),
price = price/1000,
mileage = mileage/1000,
year = year - 1970)
head(cars)
# plot price vs year
ggplot(data = cars, aes(x = year, y = price)) +
geom_point()
ggplot(data = cars, aes(x = year, y = price)) +
geom_point() + xlab("Year (since 1970)") + ylab("Price (1,000 $)")
ggplot(data = cars, aes(x = year, y = price)) +
geom_point() + xlab("Year (since 1970)") + ylab("Price (1,000 $)") +
theme_minimal()
ggplot(data = cars, aes(x = year, y = price)) +
geom_point() + xlab("Year (since 1970)") + ylab("Price (1,000 $)") +
theme_minimal() + ggtitle("My scatter plot")
# plot price vs year
ggplot(data = cars, aes(x = year, y = price)) +
geom_point(color = "skyblue") + xlab("Year (since 1970)") + ylab("Price (1,000 $)") +
theme_minimal() + ggtitle("My scatter plot")
# plot price vs year
ggplot(data = cars, aes(x = year, y = price)) +
geom_point(color = "skyblue", pch = 23) + xlab("Year (since 1970)") + ylab("Price (1,000 $)") +
theme_minimal() + ggtitle("My scatter plot")
ggplot(data = cars, aes(x = year, y = price)) +
geom_point(color = "skyblue") + xlab("Year (since 1970)") + ylab("Price (1,000 $)") +
theme_minimal() + ggtitle("My scatter plot")
lm2 <- lm(price ~ mileage + rating + year*luxury, data = cars)
summary(lm2)
exp(0.1) - 1
lm2 <- lm(log(price) ~ mileage + rating + year*luxury, data = cars)
summary(lm2)
exp(-0.009888) - 1
exp(0.1) -1
0.1*100
